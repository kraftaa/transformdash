<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TransformDash - Data Transformation Platform</title>

    <!-- Modern Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìä</text></svg>">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <!-- External Libraries -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="/static/css/styles.css?v=20251029T">
</head>
<body>
    <!-- Sidebar Navigation -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <span class="logo-icon">üìä</span>
                <span class="logo-text">TransformDash</span>
            </div>
            <button class="sidebar-toggle" onclick="toggleSidebar()" title="Toggle Sidebar">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 12h18M3 6h18M3 18h18"/>
                </svg>
            </button>
        </div>

        <nav class="sidebar-nav">
            <div class="nav-section">
                <div class="nav-section-title">Main</div>
                <a href="#" class="nav-item active" data-view="overview" onclick="switchView('overview')">
                    <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/>
                        <rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/>
                    </svg>
                    <span class="nav-text">Overview</span>
                </a>
                <a href="#" class="nav-item" data-view="dashboards" onclick="switchView('dashboards')">
                    <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18M9 21V9"/>
                    </svg>
                    <span class="nav-text">Dashboards</span>
                    <span class="badge badge-primary">8</span>
                </a>
                <a href="#" class="nav-item" data-view="models" onclick="switchView('models')">
                    <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                    </svg>
                    <span class="nav-text">Models</span>
                </a>
                <a href="#" class="nav-item" data-view="lineage" onclick="switchView('lineage')">
                    <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/>
                        <path d="M8.59 13.51l6.83 3.98M15.41 6.51l-6.82 3.98"/>
                    </svg>
                    <span class="nav-text">Lineage</span>
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Analytics</div>
                <a href="#" class="nav-item" data-view="query-lab" onclick="switchView('query-lab')">
                    <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
                        <path d="M8 7h8M8 11h8M8 15h5"/>
                    </svg>
                    <span class="nav-text">SQL Query Lab</span>
                </a>
                <a href="#" class="nav-item" data-view="charts" onclick="switchView('charts')">
                    <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 3v18h18"/><path d="M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"/>
                    </svg>
                    <span class="nav-text">Charts</span>
                </a>
                <a href="#" class="nav-item" data-view="runs" onclick="switchView('runs')">
                    <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
                    </svg>
                    <span class="nav-text">Run History</span>
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Configuration</div>
                <a href="#" class="nav-item" data-view="settings" onclick="switchView('settings')">
                    <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"/>
                    </svg>
                    <span class="nav-text">Settings</span>
                </a>
            </div>
        </nav>

        <div class="sidebar-footer">
            <div class="user-profile">
                <div class="user-avatar">üë§</div>
                <div class="user-info">
                    <div class="user-name">Admin User</div>
                    <div class="user-role">Administrator</div>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Top Bar -->
        <div class="topbar">
            <div class="topbar-left">
                <button class="mobile-menu-btn" onclick="toggleSidebar()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 12h18M3 6h18M3 18h18"/>
                    </svg>
                </button>

                <!-- Global Search -->
                <div class="search-container">
                    <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
                    </svg>
                    <input type="text" id="globalSearch" class="search-input" placeholder="Search models, dashboards, charts..." onkeyup="handleGlobalSearch(event)">
                    <div class="search-results" id="searchResults"></div>
                </div>
            </div>

            <div class="topbar-right">
                <!-- Status Indicator -->
                <div class="status-widget">
                    <div class="status-dot pulsing"></div>
                    <span class="status-text">System Active</span>
                </div>

                <!-- Theme Toggle -->
                <button class="icon-button" onclick="toggleDarkMode()" title="Toggle Theme">
                    <svg id="theme-icon-light" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"/><path d="M12 1v2m0 18v2M4.22 4.22l1.42 1.42m12.72 12.72l1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                    </svg>
                    <svg id="theme-icon-dark" class="hidden" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                    </svg>
                </button>

                <!-- Notifications -->
                <button class="icon-button" onclick="toggleNotifications()" title="Notifications">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
                        <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
                    </svg>
                    <span class="notification-badge">3</span>
                </button>

                <!-- Settings -->
                <button class="icon-button" onclick="openSettings()" title="Settings">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Content Area -->
        <div class="content-wrapper">
            <!-- Overview View -->
            <div id="overview-view" class="view-content active">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Overview</h1>
                        <p class="page-subtitle">Monitor your data transformation pipeline</p>
                    </div>
                    <button class="btn btn-primary" onclick="runTransformations()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="5 3 19 12 5 21 5 3"/>
                        </svg>
                        Run Pipeline
                    </button>
                </div>

                <!-- Metrics Cards -->
                <div class="metrics-grid" style="grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));">
                    <div class="metric-card" onclick="switchView('models')" style="cursor: pointer;" title="Click to view all models">
                        <div class="metric-header">
                            <div class="metric-icon bg-blue">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                                </svg>
                            </div>
                        </div>
                        <div class="metric-value" id="total-models">‚Äî</div>
                        <div class="metric-label">Total Models</div>
                    </div>

                    <div class="metric-card" onclick="switchView('models'); filterModelsByLayer('bronze')" style="cursor: pointer;" title="Click to view Bronze models">
                        <div class="metric-header">
                            <div class="metric-icon bg-bronze">
                                <span style="font-size: 20px;">ü•â</span>
                            </div>
                        </div>
                        <div class="metric-value" id="bronze-count">‚Äî</div>
                        <div class="metric-label">Bronze Layer</div>
                    </div>

                    <div class="metric-card" onclick="switchView('models'); filterModelsByLayer('silver')" style="cursor: pointer;" title="Click to view Silver models">
                        <div class="metric-header">
                            <div class="metric-icon bg-silver">
                                <span style="font-size: 20px;">ü•à</span>
                            </div>
                        </div>
                        <div class="metric-value" id="silver-count">‚Äî</div>
                        <div class="metric-label">Silver Layer</div>
                    </div>

                    <div class="metric-card" onclick="switchView('models'); filterModelsByLayer('gold')" style="cursor: pointer;" title="Click to view Gold models">
                        <div class="metric-header">
                            <div class="metric-icon bg-gold">
                                <span style="font-size: 20px;">ü•á</span>
                            </div>
                        </div>
                        <div class="metric-value" id="gold-count">‚Äî</div>
                        <div class="metric-label">Gold Layer</div>
                    </div>

                    <div class="metric-card" onclick="switchView('dashboards')" style="cursor: pointer;" title="Click to view dashboards">
                        <div class="metric-header">
                            <div class="metric-icon" style="background: linear-gradient(135deg, #f093fb, #f5576c); color: white;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="7" height="7"/>
                                    <rect x="14" y="3" width="7" height="7"/>
                                    <rect x="14" y="14" width="7" height="7"/>
                                    <rect x="3" y="14" width="7" height="7"/>
                                </svg>
                            </div>
                        </div>
                        <div class="metric-value" id="total-dashboards">‚Äî</div>
                        <div class="metric-label">Dashboards</div>
                    </div>

                    <div class="metric-card" onclick="switchView('charts')" style="cursor: pointer;" title="Click to view charts">
                        <div class="metric-header">
                            <div class="metric-icon" style="background: linear-gradient(135deg, #4facfe, #00f2fe); color: white;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="12" y1="20" x2="12" y2="10"/>
                                    <line x1="18" y1="20" x2="18" y2="4"/>
                                    <line x1="6" y1="20" x2="6" y2="16"/>
                                </svg>
                            </div>
                        </div>
                        <div class="metric-value" id="total-charts">‚Äî</div>
                        <div class="metric-label">Charts</div>
                    </div>

                    <div class="metric-card" style="cursor: default;" title="Last pipeline run">
                        <div class="metric-header">
                            <div class="metric-icon" style="background: linear-gradient(135deg, #43e97b, #38f9d7); color: white;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <polyline points="12 6 12 12 16 14"/>
                                </svg>
                            </div>
                        </div>
                        <div class="metric-value" id="last-run-time" style="font-size: 0.9rem;">‚Äî</div>
                        <div class="metric-label">Last Run</div>
                    </div>

                    <div class="metric-card" style="cursor: default;" title="Total rows in database">
                        <div class="metric-header">
                            <div class="metric-icon" style="background: linear-gradient(135deg, #fa709a, #fee140); color: white;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <ellipse cx="12" cy="5" rx="9" ry="3"/>
                                    <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/>
                                    <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/>
                                </svg>
                            </div>
                        </div>
                        <div class="metric-value" id="total-rows">‚Äî</div>
                        <div class="metric-label">Total Rows</div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <h3 class="section-title">Quick Actions</h3>
                    <div class="action-cards">
                        <div class="action-card" onclick="switchView('models')">
                            <div class="action-icon">üì¶</div>
                            <div class="action-title">View Models</div>
                            <div class="action-subtitle">Explore transformation models</div>
                        </div>
                        <div class="action-card" onclick="switchView('dashboards')">
                            <div class="action-icon">üìä</div>
                            <div class="action-title">Dashboards</div>
                            <div class="action-subtitle">View analytics dashboards</div>
                        </div>
                        <div class="action-card" onclick="switchView('lineage')">
                            <div class="action-icon">üîó</div>
                            <div class="action-title">Data Lineage</div>
                            <div class="action-subtitle">Track dependencies</div>
                        </div>
                        <div class="action-card" onclick="switchView('charts')">
                            <div class="action-icon">üìà</div>
                            <div class="action-title">Create Charts</div>
                            <div class="action-subtitle">Build visualizations</div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="recent-activity">
                    <div class="section-header">
                        <h3 class="section-title">Recent Activity</h3>
                        <a href="#" class="text-link" onclick="switchView('runs')">View all ‚Üí</a>
                    </div>
                    <div id="recent-runs-list"></div>
                </div>
            </div>

            <!-- Dashboards View -->
            <div id="dashboards-view" class="view-content">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Dashboards</h1>
                        <p class="page-subtitle">Interactive analytics and reporting</p>
                    </div>
                    <div style="display: flex; gap: 12px; align-items: center;">
                        <!-- View Toggle -->
                        <div class="view-toggle-group" style="display: flex; gap: 4px; background: #f3f4f6; padding: 4px; border-radius: 8px;">
                            <button class="view-toggle-btn-dashboards active" data-view-dashboards="grid" onclick="toggleDashboardsView('grid')" title="Grid view">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/>
                                    <rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/>
                                </svg>
                            </button>
                            <button class="view-toggle-btn-dashboards" data-view-dashboards="table" onclick="toggleDashboardsView('table')" title="Table view">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/>
                                    <line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/>
                                    <line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/>
                                </svg>
                            </button>
                        </div>
                        <button class="btn btn-primary" onclick="createNewDashboard()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 5v14M5 12h14"/>
                            </svg>
                            New Dashboard
                        </button>
                    </div>
                </div>
                <div id="dashboards-list"></div>
            </div>

            <!-- Dashboard Editor View -->
            <div id="dashboard-editor-view" class="view-content" style="display: none;">
                <div class="page-header">
                    <div>
                        <h1 class="page-title" id="editor-dashboard-name">Edit Dashboard</h1>
                        <p class="page-subtitle">Arrange charts and customize layout</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-secondary" onclick="cancelDashboardEdit()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M18 6L6 18M6 6l12 12"/>
                            </svg>
                            Cancel
                        </button>
                        <button class="btn btn-primary" onclick="saveDashboardEdit()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
                                <polyline points="17 21 17 13 7 13 7 21"/>
                                <polyline points="7 3 7 8 15 8"/>
                            </svg>
                            Save Changes
                        </button>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 300px; gap: var(--space-6); height: calc(100vh - 200px);">
                    <!-- Main Content Area -->
                    <div style="display: flex; flex-direction: column; gap: var(--space-6); overflow-y: auto;">
                        <!-- Dashboard Filters Section -->
                        <div class="card" style="padding: var(--space-6);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-4);">
                                <h3 style="color: var(--text-secondary); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.05em;">Dashboard Filters</h3>
                                <button class="btn btn-sm btn-primary" onclick="addDashboardFilter()">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="12" y1="5" x2="12" y2="19"></line>
                                        <line x1="5" y1="12" x2="19" y2="12"></line>
                                    </svg>
                                    Add Filter
                                </button>
                            </div>
                            <div id="dashboard-filters-editor">
                                <!-- Filters will be added here -->
                                <div style="color: var(--text-tertiary); font-size: 0.875rem; padding: 20px; text-align: center;">
                                    No filters configured. Click "Add Filter" to create interactive filters for your dashboard.
                                </div>
                            </div>
                        </div>

                        <!-- Chart Canvas -->
                        <div class="card" style="padding: var(--space-6);">
                            <h3 style="margin-bottom: var(--space-4); color: var(--text-secondary); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.05em;">Dashboard Layout</h3>
                            <div id="editor-chart-grid" class="dashboard-editor-grid">
                                <!-- Charts will be added here dynamically -->
                            </div>
                        </div>
                    </div>

                    <!-- Available Charts Sidebar -->
                    <div class="card" style="padding: var(--space-6); overflow-y: auto;">
                        <h3 style="margin-bottom: var(--space-4); color: var(--text-secondary); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.05em;">Available Charts</h3>
                        <div id="available-charts-list">
                            <!-- Available charts will be listed here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Models View -->
            <div id="models-view" class="view-content">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Models</h1>
                        <p class="page-subtitle">Data transformation models</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-secondary" onclick="loadModels()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/>
                            </svg>
                            Refresh
                        </button>
                        <button class="btn btn-primary" id="runBtn" onclick="runTransformations()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="5 3 19 12 5 21 5 3"/>
                            </svg>
                            Run All
                        </button>
                    </div>
                </div>
                <div id="execution-status"></div>
                <div id="models-list"></div>
            </div>

            <!-- Lineage View -->
            <div id="lineage-view" class="view-content">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Data Lineage</h1>
                        <p class="page-subtitle">Dependency graph and execution flow</p>
                    </div>
                </div>
                <div id="lineage-graph" class="lineage-container"></div>
            </div>

            <!-- Charts View -->
            <div id="charts-view" class="view-content">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Charts</h1>
                        <p class="page-subtitle">Create and manage visualizations</p>
                    </div>
                    <div style="display: flex; gap: 12px; align-items: center;">
                        <!-- View Toggle -->
                        <div class="view-toggle-group" style="display: flex; gap: 4px; background: #f3f4f6; padding: 4px; border-radius: 8px;">
                            <button class="view-toggle-btn-charts active" data-view-charts="grid" onclick="toggleChartsView('grid')" title="Grid view">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/>
                                    <rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/>
                                </svg>
                            </button>
                            <button class="view-toggle-btn-charts" data-view-charts="table" onclick="toggleChartsView('table')" title="Table view">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/>
                                    <line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/>
                                    <line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/>
                                </svg>
                            </button>
                        </div>
                        <button onclick="switchView('chart-builder')" class="btn btn-primary" id="toggleChartBuilderBtn">
                            ‚ú® Create New Chart
                        </button>
                    </div>
                </div>

                <!-- All Charts List -->
                <div class="section-title">üìä All Charts</div>
                <div id="all-charts-list" class="charts-grid" style="margin-bottom: 3rem;"></div>
            </div>

            <!-- Chart Builder View (New Full Page View) -->
            <div id="chart-builder-view" class="view-content">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">‚ú® Create New Chart</h1>
                        <p class="page-subtitle">Build custom visualizations from your data</p>
                    </div>
                    <button onclick="switchView('charts')" class="btn btn-secondary">
                        ‚Üê Back to Charts
                    </button>
                </div>

                <!-- Chart Builder Section -->
                <div style="display: grid; grid-template-columns: 480px 1fr; gap: 1.5rem; height: calc(100vh - 180px);">
                    <!-- Chart Builder Panel -->
                    <div style="background: var(--color-bg-surface); border: 1px solid var(--color-border); padding: 1.5rem; border-radius: var(--radius-lg); overflow-y: auto; height: 100%;">
                        <h3 style="margin-bottom: 1.25rem; color: var(--color-text-primary);">üìà Chart Builder</h3>

                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-text-primary); font-size: 0.875rem;">Dashboard</label>
                            <select id="chartDashboard" onchange="handleDashboardSelection()" class="input">
                                <option value="">Select dashboard...</option>
                                <option value="__new__">‚ûï Create New Dashboard</option>
                                {% for dashboard in dashboards %}
                                <option value="{{ dashboard.id }}">{{ dashboard.name }}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div id="newDashboardFields" style="display: none; margin-bottom: 1rem; padding: 1rem; background: var(--color-bg-hover); border-radius: var(--radius-md); border: 1px dashed var(--color-border);">
                            <div style="margin-bottom: 0.75rem;">
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-text-primary); font-size: 0.875rem;">New Dashboard Name</label>
                                <input type="text" id="newDashboardName" placeholder="My Dashboard" class="input">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-text-primary); font-size: 0.875rem;">Description</label>
                                <input type="text" id="newDashboardDescription" placeholder="Dashboard description" class="input">
                            </div>
                        </div>

                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-text-primary); font-size: 0.875rem;">Chart Title</label>
                            <input type="text" id="chartTitle" placeholder="My Chart" class="input">
                        </div>

                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-text-primary); font-size: 0.875rem;">Connection</label>
                            <select id="chartConnection" onchange="loadChartSchemas()" class="input">
                                <option value="">Select connection...</option>
                            </select>
                        </div>

                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-text-primary); font-size: 0.875rem;">Schema</label>
                            <select id="chartSchema" onchange="loadChartTables()" class="input">
                                <option value="">Select schema...</option>
                            </select>
                        </div>

                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-text-primary); font-size: 0.875rem;">Table</label>
                            <select id="chartTable" onchange="loadTableColumns()" class="input">
                                <option value="">Select table...</option>
                            </select>
                        </div>

                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-text-primary); font-size: 0.875rem;">Chart Type</label>
                            <select id="chartType" onchange="handleChartTypeChange()" class="input">
                                <option value="bar">üìä Bar Chart</option>
                                <option value="line">üìà Line Chart</option>
                                <option value="bar-stacked">üìä Stacked Bar Chart</option>
                                <option value="pie">ü•ß Pie Chart</option>
                                <option value="doughnut">üç© Doughnut Chart</option>
                                <option value="table">üìã Table</option>
                            </select>
                        </div>

                        <!-- Regular Chart Fields (hidden for table type) -->
                        <div id="regularChartFields">
                            <div style="margin-bottom: 1rem;">
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-text-primary); font-size: 0.875rem;">
                                    X-Axis (Labels)
                                    <span style="font-size: 0.7rem; color: var(--color-text-muted); font-weight: normal;">Drop field here</span>
                                </label>
                                <select id="chartXAxis" class="input drop-zone" ondrop="handleFieldDrop(event, 'x')" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                                    <option value="">Select column...</option>
                                </select>
                            </div>

                            <div style="margin-bottom: 1rem;">
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-text-primary); font-size: 0.875rem;">
                                    Y-Axis (Values)
                                    <span style="font-size: 0.7rem; color: var(--color-text-muted); font-weight: normal;">Drop field here</span>
                                </label>
                                <select id="chartYAxis" class="input drop-zone" ondrop="handleFieldDrop(event, 'y')" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                                    <option value="">Select column...</option>
                                </select>
                            </div>

                            <div style="margin-bottom: 1rem;">
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-text-primary); font-size: 0.875rem;">Aggregation</label>
                                <select id="chartAggregation" class="input">
                                    <option value="sum">SUM</option>
                                    <option value="avg">AVG</option>
                                    <option value="count">COUNT</option>
                                    <option value="min">MIN</option>
                                    <option value="max">MAX</option>
                                </select>
                            </div>

                            <!-- Stacked Chart Category Field (hidden by default) -->
                            <div id="stackedCategoryField" style="display: none; margin-bottom: 1rem;">
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-text-primary); font-size: 0.875rem;">
                                    Category/Series Field
                                    <span style="font-size: 0.7rem; color: var(--color-text-muted); font-weight: normal;">For stacking bars</span>
                                </label>
                                <select id="chartCategory" class="input drop-zone" ondrop="handleFieldDrop(event, 'category')" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                                    <option value="">Select column...</option>
                                </select>
                            </div>

                            <!-- Filters Section -->
                            <div style="margin-bottom: 1rem; margin-top: 1.5rem; padding-top: 1rem; border-top: 1px solid var(--color-border);">
                                <label style="display: block; margin-bottom: 0.75rem; font-weight: 600; color: var(--color-text-primary); font-size: 0.875rem;">
                                    üîç Filters
                                    <span style="font-weight: normal; color: var(--color-text-muted); font-size: 0.8rem;">(optional)</span>
                                </label>
                                <div id="filtersContainer" style="margin-bottom: 0.75rem;">
                                    <p style="color: var(--color-text-muted); font-size: 0.8rem; margin: 0;">No filters added</p>
                                </div>
                                <button type="button" onclick="addFilter()" class="btn btn-secondary" style="width: 100%; font-size: 0.875rem;">
                                    + Add Filter
                                </button>
                            </div>
                        </div>

                        <!-- Table Chart Fields (hidden by default) -->
                        <div id="tableChartFields" style="display: none;">
                            <div style="margin-bottom: 1rem;">
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--color-text-primary); font-size: 0.875rem;">Select Columns</label>
                                <div id="tableColumnsContainer" style="max-height: 300px; overflow-y: auto; border: 1px solid var(--color-border); border-radius: var(--radius-md); padding: 0.5rem;">
                                    <p style="color: var(--color-text-muted); font-size: 0.875rem; padding: 1rem;">Select a data source first</p>
                                </div>
                            </div>
                            <button type="button" onclick="addTableColumn()" class="btn btn-secondary" style="width: 100%; margin-bottom: 1rem;">
                                + Add Column
                            </button>
                        </div>

                        <button onclick="createChart()" class="btn btn-primary" style="width: 100%;">
                            ‚ú® Create Chart
                        </button>

                        <div id="chartError" style="margin-top: 1rem; padding: 0.75rem; background: var(--color-error-light); border-radius: var(--radius-md); color: var(--color-error-dark); display: none; font-size: 0.875rem;"></div>
                    </div>

                    <!-- Chart Preview Panel -->
                    <div style="background: var(--color-bg-surface); border: 1px solid var(--color-border); padding: 1.5rem; border-radius: var(--radius-lg); display: flex; flex-direction: column; height: 100%;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 style="color: var(--color-text-primary);">Preview</h3>
                            <button onclick="saveChart()" id="saveChartBtn" disabled class="btn btn-secondary">
                                üíæ Save Chart
                            </button>
                        </div>
                        <div style="flex: 1; position: relative; display: flex; flex-direction: column; min-height: 0;">
                            <canvas id="chartCanvas" style="display: none; width: 100%; height: 100%;"></canvas>
                            <div id="chartTableContainer" style="display: none; flex: 1; overflow: auto;"></div>
                            <div id="chartPlaceholder" style="display: flex; align-items: center; justify-content: center; flex: 1; color: var(--color-text-muted); text-align: center;">
                                Select options and click "Create Chart" to see preview
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SQL Query Lab View -->
            <div id="query-lab-view" class="view-content">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">üî¨ SQL Query Lab</h1>
                        <p class="page-subtitle">Write and execute SQL queries against the database</p>
                    </div>
                </div>

                <div style="display: flex; gap: 0; height: calc(100vh - 200px);">
                    <!-- Database Browser Sidebar -->
                    <div id="sql-sidebar" style="width: 280px; min-width: 200px; max-width: 500px; background: white; border-radius: 12px; padding: 16px; overflow-y: auto; box-shadow: 0 1px 3px rgba(0,0,0,0.1); position: relative;">
                        <h3 style="margin: 0 0 12px 0; font-size: 0.9rem; color: #667eea;">üìö Database Schema</h3>

                        <!-- Connection Selector -->
                        <div style="margin-bottom: 12px;">
                            <label style="font-size: 0.75rem; color: #666; display: block; margin-bottom: 4px;">Connection:</label>
                            <select id="connection-selector" onchange="onConnectionChange()" style="width: 100%; padding: 6px 8px; border: 1px solid #ddd; border-radius: 6px; font-size: 0.85rem; background: white;">
                                <option value="">Loading...</option>
                            </select>
                        </div>

                        <!-- Schema Selector -->
                        <div style="margin-bottom: 12px;">
                            <label style="font-size: 0.75rem; color: #666; display: block; margin-bottom: 4px;">Schema:</label>
                            <select id="schema-selector" onchange="onSchemaChange()" style="width: 100%; padding: 6px 8px; border: 1px solid #ddd; border-radius: 6px; font-size: 0.85rem; background: white;">
                                <option value="">Loading...</option>
                            </select>
                        </div>

                        <div id="schema-browser">
                            <p style="color: #888; font-size: 0.85rem;">Loading tables...</p>
                        </div>
                    </div>

                    <!-- Horizontal Resizer -->
                    <div id="h-resizer" style="width: 8px; cursor: col-resize; background: transparent; position: relative; flex-shrink: 0;">
                        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 3px; height: 60px; background: #ddd; border-radius: 3px;"></div>
                    </div>

                    <!-- Query Editor and Results -->
                    <div style="display: flex; flex-direction: column; gap: 12px; flex: 1; min-width: 400px;">
                        <!-- Query History Panel -->
                        <div style="background: white; border-radius: 12px; padding: 16px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                            <div style="display: flex; justify-content: space-between; align-items: center; cursor: pointer;" onclick="toggleQueryHistory()">
                                <h3 style="margin: 0; font-size: 0.9rem; color: #667eea;">üìú Query History</h3>
                                <span id="history-toggle-icon" style="font-size: 0.9rem;">üîº</span>
                            </div>
                            <div id="query-history-panel" style="display: none; margin-top: 12px; max-height: 200px; overflow-y: auto; border: 1px solid #eee; border-radius: 6px;">
                                <div id="query-history-list"></div>
                            </div>
                        </div>

                        <!-- SQL Editor -->
                        <div id="sql-editor-panel" style="background: white; border-radius: 12px; padding: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); height: 280px; min-height: 150px; display: flex; flex-direction: column;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                                <h3 style="margin: 0; font-size: 0.9rem; color: #667eea;">‚úçÔ∏è SQL Editor</h3>
                                <div style="display: flex; gap: 8px;">
                                    <button onclick="clearQuery()" class="btn btn-secondary" style="padding: 6px 12px; font-size: 0.85rem;">Clear</button>
                                    <button onclick="executeQuery()" class="btn btn-primary" style="padding: 6px 16px; font-size: 0.85rem;">‚ñ∂Ô∏è Run Query</button>
                                </div>
                            </div>
                            <textarea id="sql-editor" style="flex: 1; width: 100%; font-family: 'Monaco', 'Menlo', 'Consolas', monospace; font-size: 13px; padding: 12px; border: 1px solid #ddd; border-radius: 6px; resize: none;" placeholder="SELECT * FROM fct_orders LIMIT 10;"></textarea>
                            <div id="query-error" style="display: none; margin-top: 12px; padding: 12px; background: #fee; border-left: 4px solid #f44; color: #c33; font-size: 0.85rem; border-radius: 4px;"></div>
                        </div>

                        <!-- Vertical Resizer -->
                        <div id="v-resizer" style="height: 8px; cursor: row-resize; background: transparent; position: relative; flex-shrink: 0;">
                            <div style="position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 60px; height: 3px; background: #ddd; border-radius: 3px;"></div>
                        </div>

                        <!-- Query Results -->
                        <div style="background: white; border-radius: 12px; padding: 20px; flex: 1; overflow: hidden; display: flex; flex-direction: column; box-shadow: 0 1px 3px rgba(0,0,0,0.1); min-height: 200px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                                <h3 style="margin: 0; font-size: 0.9rem; color: #667eea;">üìä Results</h3>
                                <div style="display: flex; gap: 12px; align-items: center;">
                                    <div id="query-stats" style="font-size: 0.8rem; color: #888;"></div>
                                    <div id="export-buttons" style="display: none; gap: 6px;">
                                        <button onclick="saveAsView()" class="btn btn-primary" style="padding: 4px 10px; font-size: 0.8rem;">üíæ Save as View</button>
                                        <button onclick="exportToCSV()" class="btn btn-secondary" style="padding: 4px 10px; font-size: 0.8rem;">üìÑ Export CSV</button>
                                        <button onclick="printResults()" class="btn btn-secondary" style="padding: 4px 10px; font-size: 0.8rem;">üñ®Ô∏è Print</button>
                                    </div>
                                </div>
                            </div>
                            <div id="query-results" style="flex: 1; overflow: auto; border: 1px solid #eee; border-radius: 6px;">
                                <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #999; font-size: 0.9rem;">
                                    Execute a query to see results here
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Runs View -->
            <div id="runs-view" class="view-content">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Run History</h1>
                        <p class="page-subtitle">Execution logs and performance metrics</p>
                    </div>
                    <button class="btn btn-secondary" onclick="loadRuns()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/>
                        </svg>
                        Refresh
                    </button>
                </div>
                <div class="filter-bar">
                    <button class="filter-chip active" onclick="filterRuns('all')">All</button>
                    <button class="filter-chip" onclick="filterRuns('success')">‚úì Success</button>
                    <button class="filter-chip" onclick="filterRuns('failed')">‚úï Failed</button>
                    <button class="filter-chip" onclick="filterRuns('partial')">‚ö† Partial</button>
                </div>
                <div id="runs-list"></div>
            </div>

            <!-- Settings View -->
            <div id="settings-view" class="view-content">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Settings</h1>
                        <p class="page-subtitle">Configure your workspace</p>
                    </div>
                </div>
                <div class="settings-grid">
                    <div class="settings-card">
                        <h3>Branding</h3>
                        <div class="setting-item">
                            <label>Application Name</label>
                            <input type="text" class="input" value="TransformDash" id="app-name">
                        </div>
                        <div class="setting-item">
                            <label>Logo URL</label>
                            <input type="text" class="input" placeholder="https://..." id="logo-url">
                        </div>
                        <div class="setting-item">
                            <label>Primary Color</label>
                            <input type="color" class="color-picker" value="#667eea" id="primary-color">
                        </div>
                        <button class="btn btn-primary" onclick="saveBranding()">Save Branding</button>
                    </div>

                    <div class="settings-card">
                        <h3>Preferences</h3>
                        <div class="setting-item">
                            <label class="toggle-label">
                                <input type="checkbox" class="toggle" id="auto-refresh">
                                <span>Auto-refresh dashboards</span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <label class="toggle-label">
                                <input type="checkbox" class="toggle" id="notifications">
                                <span>Enable notifications</span>
                            </label>
                        </div>
                        <div class="setting-item">
                            <label class="toggle-label">
                                <input type="checkbox" class="toggle" id="animations">
                                <span>Enable animations</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modals -->
    <div id="codeModal" class="modal">
        <div class="modal-overlay" onclick="closeModal('codeModal')"></div>
        <div class="modal-container">
            <div class="modal-header">
                <h2 id="modalTitle">Model Code</h2>
                <button class="modal-close" onclick="closeModal('codeModal')">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>

    <div id="logsModal" class="modal">
        <div class="modal-overlay" onclick="closeModal('logsModal')"></div>
        <div class="modal-container">
            <div class="modal-header">
                <h2 id="logsModalTitle">Run Logs</h2>
                <button class="modal-close" onclick="closeModal('logsModal')">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body" id="logsModalBody"></div>
        </div>
    </div>

    <div id="sqlQueryModal" class="modal">
        <div class="modal-overlay" onclick="closeModal('sqlQueryModal')"></div>
        <div class="modal-container" style="max-width: 800px;">
            <div class="modal-header">
                <h2 id="sqlQueryModalTitle">SQL Query</h2>
                <button class="modal-close" onclick="closeModal('sqlQueryModal')">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body" style="padding: 1.5rem;">
                <pre id="sqlQueryCode" style="background: var(--color-bg-secondary); padding: 1rem; border-radius: 8px; overflow-x: auto; font-family: 'JetBrains Mono', monospace; font-size: 0.875rem; line-height: 1.5; color: var(--color-text-primary); margin: 0;"></pre>
            </div>
            <div class="modal-footer" style="padding: 1rem 1.5rem; border-top: 1px solid var(--color-border); display: flex; justify-content: flex-end; gap: 0.75rem;">
                <button class="btn btn-secondary" onclick="closeModal('sqlQueryModal')">Close</button>
                <button class="btn btn-primary" onclick="copySqlQuery()" id="copySqlButton">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                    </svg>
                    Copy SQL
                </button>
            </div>
        </div>
    </div>

    <div id="chartModal" class="modal">
        <div class="modal-overlay" onclick="closeModal('chartModal')"></div>
        <div class="modal-container">
            <div class="modal-header">
                <h2 id="chartModalTitle">Chart</h2>
                <button class="modal-close" onclick="closeModal('chartModal')">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body" id="chartModalBody"></div>
            <div class="modal-footer" style="padding: 1rem 1.5rem; border-top: 1px solid var(--color-border); display: flex; justify-content: flex-end; gap: 0.75rem;">
                <button class="btn btn-secondary" onclick="closeModal('chartModal')">Close</button>
                <button class="btn btn-primary" onclick="goToChartDashboard()">Go to Dashboard</button>
            </div>
        </div>
    </div>

    <div id="editDashboardModal" class="modal">
        <div class="modal-overlay" onclick="closeModal('editDashboardModal')"></div>
        <div class="modal-container">
            <div class="modal-header">
                <h2 id="editDashboardModalTitle">Edit Dashboard</h2>
                <button class="modal-close" onclick="closeModal('editDashboardModal')">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <p style="margin-bottom: 1rem; color: #6b7280;">Select charts to add to this dashboard:</p>
                <div id="availableChartsList" style="max-height: 400px; overflow-y: auto;"></div>
            </div>
            <div class="modal-footer" style="padding: 1rem 1.5rem; border-top: 1px solid var(--color-border); display: flex; justify-content: flex-end; gap: 0.75rem;">
                <button class="btn btn-secondary" onclick="closeModal('editDashboardModal')">Close</button>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Scripts -->
    <script src="/static/js/app.js?t={{ cache_bust }}"></script>
</body>
</html>
